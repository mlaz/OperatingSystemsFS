<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SOFS11: sofs_basicconsist.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>sofs_basicconsist.h File Reference</h1>
<p>Set of operations to check the basic consistency of the file system SOFS11 internal data structures.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sofs__basicconsist_8h_source.html">sofs_superblock.h</a>&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sofs__const_8h_source.html">sofs_const.h</a>&quot;</code><br/>

<p><a href="sofs__basicconsist_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8cbbfce06aea0663868fdda18016986c"></a><!-- doxytag: member="sofs_basicconsist.h::FREE_CLT" ref="a8cbbfce06aea0663868fdda18016986c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a8cbbfce06aea0663868fdda18016986c">FREE_CLT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">status free of a data cluster <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5872dcf507401947bb85af3828969a9d"></a><!-- doxytag: member="sofs_basicconsist.h::ALLOC_CLT" ref="a5872dcf507401947bb85af3828969a9d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a5872dcf507401947bb85af3828969a9d">ALLOC_CLT</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">status allocated of a data cluster <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb4e5747c49b69a259c8746c47c2e01d"></a><!-- doxytag: member="sofs_basicconsist.h::ESBHINVAL" ref="adb4e5747c49b69a259c8746c47c2e01d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#adb4e5747c49b69a259c8746c47c2e01d">ESBHINVAL</a>&nbsp;&nbsp;&nbsp;512</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">superblock header data is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab045eb379fcf40daf3010345685defdf"></a><!-- doxytag: member="sofs_basicconsist.h::ESBTINPINVAL" ref="ab045eb379fcf40daf3010345685defdf" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#ab045eb379fcf40daf3010345685defdf">ESBTINPINVAL</a>&nbsp;&nbsp;&nbsp;513</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">table of inodes metadata in the superblock is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a597393b54dd8ed3bd8ba5d41f1edc154"></a><!-- doxytag: member="sofs_basicconsist.h::ETINDLLINVAL" ref="a597393b54dd8ed3bd8ba5d41f1edc154" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a597393b54dd8ed3bd8ba5d41f1edc154">ETINDLLINVAL</a>&nbsp;&nbsp;&nbsp;514</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">double-linked list of free inodes is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5ec4e0f92dc28c272db8184ba943ebb"></a><!-- doxytag: member="sofs_basicconsist.h::EFININVAL" ref="ab5ec4e0f92dc28c272db8184ba943ebb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#ab5ec4e0f92dc28c272db8184ba943ebb">EFININVAL</a>&nbsp;&nbsp;&nbsp;515</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">free inode is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24894e92453307c4af3a2d2d37adb711"></a><!-- doxytag: member="sofs_basicconsist.h::ESBDZINVAL" ref="a24894e92453307c4af3a2d2d37adb711" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a24894e92453307c4af3a2d2d37adb711">ESBDZINVAL</a>&nbsp;&nbsp;&nbsp;516</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data zone metadata in the superblock is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54e13f0ca563632b85f3d48ac6be22b8"></a><!-- doxytag: member="sofs_basicconsist.h::ESBFCCINVAL" ref="a54e13f0ca563632b85f3d48ac6be22b8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a54e13f0ca563632b85f3d48ac6be22b8">ESBFCCINVAL</a>&nbsp;&nbsp;&nbsp;517</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">free data clusters caches in the superblock are inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e8e0d108b7a40721eae93be09dc2103"></a><!-- doxytag: member="sofs_basicconsist.h::EFCDLLINVAL" ref="a4e8e0d108b7a40721eae93be09dc2103" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a4e8e0d108b7a40721eae93be09dc2103">EFCDLLINVAL</a>&nbsp;&nbsp;&nbsp;518</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">double-linked list of free data clusters is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad19b9fbdaf3a5a75fa43974e910a5bdf"></a><!-- doxytag: member="sofs_basicconsist.h::EDCINVAL" ref="ad19b9fbdaf3a5a75fa43974e910a5bdf" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#ad19b9fbdaf3a5a75fa43974e910a5bdf">EDCINVAL</a>&nbsp;&nbsp;&nbsp;519</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data cluster header is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ee94573de47f01ee3d3e4c874aeadf1"></a><!-- doxytag: member="sofs_basicconsist.h::EFCININVAL" ref="a8ee94573de47f01ee3d3e4c874aeadf1" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a8ee94573de47f01ee3d3e4c874aeadf1">EFCININVAL</a>&nbsp;&nbsp;&nbsp;520</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">free inode in the clean state is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79aac2f27c7ab3a68737dcfa42ecdd45"></a><!-- doxytag: member="sofs_basicconsist.h::EFDININVAL" ref="a79aac2f27c7ab3a68737dcfa42ecdd45" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a79aac2f27c7ab3a68737dcfa42ecdd45">EFDININVAL</a>&nbsp;&nbsp;&nbsp;521</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">free inode in the dirty state is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72864ae181588a7db8c1801b62e22cc4"></a><!-- doxytag: member="sofs_basicconsist.h::EIUININVAL" ref="a72864ae181588a7db8c1801b62e22cc4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a72864ae181588a7db8c1801b62e22cc4">EIUININVAL</a>&nbsp;&nbsp;&nbsp;522</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">inode in use is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14508cb81637966ca69c6b8f46d9c046"></a><!-- doxytag: member="sofs_basicconsist.h::ELDCININVAL" ref="a14508cb81637966ca69c6b8f46d9c046" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a14508cb81637966ca69c6b8f46d9c046">ELDCININVAL</a>&nbsp;&nbsp;&nbsp;523</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of data cluster references belonging to the inode is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75e7980ff84a7217a52119a2df8fb1ed"></a><!-- doxytag: member="sofs_basicconsist.h::EDIRINVAL" ref="a75e7980ff84a7217a52119a2df8fb1ed" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a75e7980ff84a7217a52119a2df8fb1ed">EDIRINVAL</a>&nbsp;&nbsp;&nbsp;524</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">directory is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6c1f77883daf8e96b860ff280a997f6"></a><!-- doxytag: member="sofs_basicconsist.h::EDEINVAL" ref="ad6c1f77883daf8e96b860ff280a997f6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#ad6c1f77883daf8e96b860ff280a997f6">EDEINVAL</a>&nbsp;&nbsp;&nbsp;525</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">directory entry is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5b9b973489536e1407e885ed71ede8e"></a><!-- doxytag: member="sofs_basicconsist.h::EDCARDYIL" ref="ad5b9b973489536e1407e885ed71ede8e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#ad5b9b973489536e1407e885ed71ede8e">EDCARDYIL</a>&nbsp;&nbsp;&nbsp;526</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data cluster in the list of direct references for the given index <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a90264d76fdede0f86bd3a00a91c1f1"></a><!-- doxytag: member="sofs_basicconsist.h::EDCNOTIL" ref="a5a90264d76fdede0f86bd3a00a91c1f1" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a5a90264d76fdede0f86bd3a00a91c1f1">EDCNOTIL</a>&nbsp;&nbsp;&nbsp;527</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data cluster not in the list of direct references for the given index <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37ee5a7301d2e5925b1b451aeb5d1b61"></a><!-- doxytag: member="sofs_basicconsist.h::EWGINODENB" ref="a37ee5a7301d2e5925b1b451aeb5d1b61" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a37ee5a7301d2e5925b1b451aeb5d1b61">EWGINODENB</a>&nbsp;&nbsp;&nbsp;528</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data cluster stat field is inconsistent <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1c3921975c7b46d27e79bce2ea0e3f5"></a><!-- doxytag: member="sofs_basicconsist.h::ERELPATH" ref="aa1c3921975c7b46d27e79bce2ea0e3f5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#aa1c3921975c7b46d27e79bce2ea0e3f5">ERELPATH</a>&nbsp;&nbsp;&nbsp;529</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">path is relative and it is not a symbolic link <br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a6a248690bcf9bac661e239e3ae792899">soGetMagicNumber</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get file system magic number.  <a href="#a6a248690bcf9bac661e239e3ae792899"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a9d04fd3bf59ccc503f0bc7c1e2e9c955">soGetErrorMessage</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb, uint32_t code)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get error message.  <a href="#a9d04fd3bf59ccc503f0bc7c1e2e9c955"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a7cf6e075201952b4fab9b36990a856a1">soQCheckSuperBlock</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of the superblock metadata.  <a href="#a7cf6e075201952b4fab9b36990a856a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#adf6057b7817e524ab0dfcc3df28b719f">soQCheckInT</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of the table of inodes metadata.  <a href="#adf6057b7817e524ab0dfcc3df28b719f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#ac23e3ec715288899169dbedc5c0c4f6f">soQCheckDZ</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of the data zone metadata.  <a href="#ac23e3ec715288899169dbedc5c0c4f6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a4e42eb96435682d6c07151c17766ee47">soQCheckFInode</a> (<a class="el" href="structso_inode.html">SOInode</a> *p_inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of a free inode.  <a href="#a4e42eb96435682d6c07151c17766ee47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a59737751f90f394ff5602021eed8c4d5">soQCheckFCInode</a> (<a class="el" href="structso_inode.html">SOInode</a> *p_inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of a free inode in the clean state.  <a href="#a59737751f90f394ff5602021eed8c4d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a2057afc2221ac170cd1dffc2a561909f">soQCheckFDInode</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb, <a class="el" href="structso_inode.html">SOInode</a> *p_inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of a free inode in the dirty state.  <a href="#a2057afc2221ac170cd1dffc2a561909f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a1f7409fc8868dcff3a6493ffb0f3682d">soQCheckInodeIU</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb, <a class="el" href="structso_inode.html">SOInode</a> *p_inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of an inode in use.  <a href="#a1f7409fc8868dcff3a6493ffb0f3682d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a040a914751be705b0ecd210d5be1bf71">soQCheckLRDC</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb, <a class="el" href="structso_inode.html">SOInode</a> *p_inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of the list of data cluster references belonging to an inode in use.  <a href="#a040a914751be705b0ecd210d5be1bf71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a9c583308cf3a7621a77fbdca28cc58bc">soQCheckStatDC</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb, uint32_t nClust, uint32_t *p_stat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of the allocation status of a data cluster.  <a href="#a9c583308cf3a7621a77fbdca28cc58bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicconsist_8h.html#a86cc02eb54dbe301143dc01fb0bec7b1">soQCheckDirCont</a> (<a class="el" href="structso_super_block.html">SOSuperBlock</a> *p_sb, <a class="el" href="structso_inode.html">SOInode</a> *p_inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick check of the contents of a directory.  <a href="#a86cc02eb54dbe301143dc01fb0bec7b1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Set of operations to check the basic consistency of the file system SOFS11 internal data structures. </p>
<p>(interface file)</p>
<p>The aim is to provide a library with functionalities to check metadata consistency issues when the file system is in operation.</p>
<p>The operations are: </p>
<ul>
<li>get file system magic number </li>
<li>quick check of the superblock metadata </li>
<li>quick check of the table of inodes metadata </li>
<li>quick check of the data zone metadata </li>
<li>quick check of a free inode </li>
<li>quick check of a free inode in the clean state </li>
<li>quick check of a free inode in the dirty state </li>
<li>quick check of an inode in use </li>
<li>quick check of the list of data cluster references belonging to an inode in use </li>
<li>quick check of the allocation status of a data cluster </li>
<li>quick check of the contents of a directory </li>
<li>get error message.</li>
</ul>
<dl class="author"><dt><b>Author:</b></dt><dd>Ant√≥nio Rui Borges - September 2010 / September 2011</dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>In case an error occurs, all functions return a negative value which is the symmetric of the system error or the local error that better represents the error cause. Local errors are out of the range of the system errors and their codes are listed bellow. </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9d04fd3bf59ccc503f0bc7c1e2e9c955"></a><!-- doxytag: member="sofs_basicconsist.h::soGetErrorMessage" ref="a9d04fd3bf59ccc503f0bc7c1e2e9c955" args="(SOSuperBlock *p_sb, uint32_t code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* soGetErrorMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get error message. </p>
<p>The error message matching a given error code is fetched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock data is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>error code</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><em>message error</em>, on success </dd>
<dd>
<em>null string</em>, if the pointer to the superblock is <code>NULL</code> or the error code is out of range </dd></dl>

</div>
</div>
<a class="anchor" id="a6a248690bcf9bac661e239e3ae792899"></a><!-- doxytag: member="sofs_basicconsist.h::soGetMagicNumber" ref="a6a248690bcf9bac661e239e3ae792899" args="(SOSuperBlock *p_sb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t soGetMagicNumber </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get file system magic number. </p>
<p>The value stored in the <code>magic</code> field of the superblock is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock data is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><em>magic number</em>, on success </dd>
<dd>
<code>0xFFFF</code>, if the pointer to the superblock is <code>NULL</code> </dd></dl>

</div>
</div>
<a class="anchor" id="a86cc02eb54dbe301143dc01fb0bec7b1"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckDirCont" ref="a86cc02eb54dbe301143dc01fb0bec7b1" args="(SOSuperBlock *p_sb, SOInode *p_inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckDirCont </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td>
          <td class="paramname"> <em>p_inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of the contents of a directory. </p>
<p>The inode, which is passed as an argument, should be in use and represent a directory. The contents of the entries of the directory are checked for consistency. Only legal values are allowed, meaning that each directory entry is either in use or is in the clean or the dirty state; the first two entries must have names "." and ".." respectively.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_inode</em>&nbsp;</td><td>pointer to a buffer where the inode (supposedly represents a directory) is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if any of the pointers is <code>NULL</code> </dd>
<dd>
-<code>ENOTDIR</code>, if it is not a directory </dd>
<dd>
-<code>EDIRINVAL</code>, if it the directory is inconsistent </dd>
<dd>
-<code>EDEINVAL</code>, if it the directory entry is inconsistent </dd>
<dd>
-<code>EIUININVAL</code>, if the inode in use is inconsistent </dd>
<dd>
-<code>ELDCININVAL</code>, if the list of data cluster references belonging to an inode is inconsistent </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="ac23e3ec715288899169dbedc5c0c4f6f"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckDZ" ref="ac23e3ec715288899169dbedc5c0c4f6f" args="(SOSuperBlock *p_sb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckDZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of the data zone metadata. </p>
<p>Both the associated fields in the superblock, the two data clusters and the general repository of free clusters are checked for consistency. All fields must have legal values. In particular, the number of free clusters computed through inspection of the two cluster caches and the general repository must match the value stored in the related field of the superblock. The contents of the two caches and the general repository are also checked: the references stored there must be legal and refer to free data clusters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock data is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if the pointer is <code>NULL</code> </dd>
<dd>
-<code>ESBDZINVAL</code>, if the data zone metadata in the superblock is inconsistent </dd>
<dd>
-<code>ESBFCCINVAL</code>, if the free data clusters caches in the superblock are inconsistent </dd>
<dd>
-<code>EFCDLLINVAL</code>, if the double-linked list of free data clusters is inconsistent </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a59737751f90f394ff5602021eed8c4d5"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckFCInode" ref="a59737751f90f394ff5602021eed8c4d5" args="(SOInode *p_inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckFCInode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td>
          <td class="paramname"> <em>p_inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of a free inode in the clean state. </p>
<p>The contents of all the fields of the inode are checked. Only the values legal in the clean state are allowed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_inode</em>&nbsp;</td><td>pointer to a buffer where the inode is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if the pointer is <code>NULL</code> </dd>
<dd>
-<code>EFCININVAL</code>, if the free inode in the clean state is inconsistent </dd></dl>

</div>
</div>
<a class="anchor" id="a2057afc2221ac170cd1dffc2a561909f"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckFDInode" ref="a2057afc2221ac170cd1dffc2a561909f" args="(SOSuperBlock *p_sb, SOInode *p_inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckFDInode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td>
          <td class="paramname"> <em>p_inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of a free inode in the dirty state. </p>
<p>The contents of all the fields of the inode, except <code>owner</code>, <code>group</code> and <code>size</code>, are checked for consistency. Only legal values are allowed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_inode</em>&nbsp;</td><td>pointer to a buffer where the inode is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if any of the pointers is <code>NULL</code> </dd>
<dd>
-<code>EFDININVAL</code>, if the free inode in the dirty state is inconsistent </dd>
<dd>
-<code>ELDCININVAL</code>, if the list of data cluster references belonging to an inode is inconsistent </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a4e42eb96435682d6c07151c17766ee47"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckFInode" ref="a4e42eb96435682d6c07151c17766ee47" args="(SOInode *p_inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckFInode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td>
          <td class="paramname"> <em>p_inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of a free inode. </p>
<p>The contents of the <code>mode</code> and <code>refcount</code> fields of the inode are checked for consistency. Only combinations of the <code>mode</code> field which lead for the inode to be either in the clean or in the dirty state are allowed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_inode</em>&nbsp;</td><td>pointer to a buffer where the inode is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if the pointer is <code>NULL</code> </dd>
<dd>
-<code>EFININVAL</code>, if the free inode is inconsistent </dd></dl>

</div>
</div>
<a class="anchor" id="a1f7409fc8868dcff3a6493ffb0f3682d"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckInodeIU" ref="a1f7409fc8868dcff3a6493ffb0f3682d" args="(SOSuperBlock *p_sb, SOInode *p_inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckInodeIU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td>
          <td class="paramname"> <em>p_inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of an inode in use. </p>
<p>The contents of all the fields of the inode, except <code>owner</code>, <code>group</code>, <code>size</code> and <code>refcount</code>, are checked for consistency. Only legal values are allowed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_inode</em>&nbsp;</td><td>pointer to a buffer where the inode is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if any of the pointers is <code>NULL</code> </dd>
<dd>
-<code>EIUININVAL</code>, if the inode in use is inconsistent </dd>
<dd>
-<code>ELDCININVAL</code>, if the list of data cluster references belonging to an inode is inconsistent </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="adf6057b7817e524ab0dfcc3df28b719f"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckInT" ref="adf6057b7817e524ab0dfcc3df28b719f" args="(SOSuperBlock *p_sb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckInT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of the table of inodes metadata. </p>
<p>Both the associated fields in the superblock and the table of inodes are checked for consistency. All fields must have legal values. In particular, the number of free inodes computed through inspection of the list of free inodes must match the value stored in the related field of the superblock. Each inode in the list must also be either in the clean or the dirty state.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock data is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if the pointer is <code>NULL</code> </dd>
<dd>
-<code>ESBTINPINVAL</code>, if the table of inodes metadata in the superblock is inconsistent </dd>
<dd>
-<code>ETINDLLINVAL</code>, if the double-linked list of free inodes is inconsistent </dd>
<dd>
-<code>EFININVAL</code>, if the free inode is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a040a914751be705b0ecd210d5be1bf71"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckLRDC" ref="a040a914751be705b0ecd210d5be1bf71" args="(SOSuperBlock *p_sb, SOInode *p_inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckLRDC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td>
          <td class="paramname"> <em>p_inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of the list of data cluster references belonging to an inode in use. </p>
<p>All the clusters referenced in the list must have legal logical numbers and be allocated and the <code>clucount</code> field must have a value set in accordance to the filling of the list.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_inode</em>&nbsp;</td><td>pointer to a buffer where the inode is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if either of the pointers is <code>NULL</code> </dd>
<dd>
-<code>ELDCININVAL</code>, if the list of data cluster references belonging to the inode is inconsistent </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a9c583308cf3a7621a77fbdca28cc58bc"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckStatDC" ref="a9c583308cf3a7621a77fbdca28cc58bc" args="(SOSuperBlock *p_sb, uint32_t nClust, uint32_t *p_stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckStatDC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>nClust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_stat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of the allocation status of a data cluster. </p>
<p>All the fields of the header of a free data cluster are checked to determine its status. The status is returned in the following way </p>
<ul>
<li><code>ALLOC_CLT</code>, if the data cluster is allocated </li>
<li><code>FREE_CLT</code>, if the data cluster is free.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nClust</em>&nbsp;</td><td>logical number of the data cluster </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_stat</em>&nbsp;</td><td>pointer to a location where the allocation status is stored on success</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if either of the pointers is <code>NULL</code> or the logical number of the data cluster is out of range </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a7cf6e075201952b4fab9b36990a856a1"></a><!-- doxytag: member="sofs_basicconsist.h::soQCheckSuperBlock" ref="a7cf6e075201952b4fab9b36990a856a1" args="(SOSuperBlock *p_sb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soQCheckSuperBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>p_sb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick check of the superblock metadata. </p>
<p>The file system layout as described in the superblock header is checked first. Then follows the checking of the metadata of the table of inodes and the data zone.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_sb</em>&nbsp;</td><td>pointer to a buffer where the superblock data is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if the pointer is <code>NULL</code> </dd>
<dd>
-<code>ESBHINVAL</code>, if the superblock header data is inconsistent </dd>
<dd>
-<code>ESBTINPINVAL</code>, if the table of inodes metadata in the superblock is inconsistent </dd>
<dd>
-<code>ETINDLLINVAL</code>, if the double-linked list of free inodes is inconsistent </dd>
<dd>
-<code>EFININVAL</code>, if the free inode is inconsistent </dd>
<dd>
-<code>ESBDZINVAL</code>, if the data zone metadata in the superblock is inconsistent </dd>
<dd>
-<code>ESBFCCINVAL</code>, if the free data clusters caches in the superblock are inconsistent </dd>
<dd>
-<code>EFCDLLINVAL</code>, if the double-linked list of free data clusters is inconsistent </dd>
<dd>
-<code>EDCINVAL</code>, if the data cluster header is inconsistent </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
