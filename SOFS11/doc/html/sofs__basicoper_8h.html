<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SOFS11: sofs_basicoper.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>sofs_basicoper.h File Reference</h1>
<p>Set of operations to manage the file system internal data structures.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sofs__superblock_8h_source.html">sofs_superblock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sofs__inode_8h_source.html">sofs_inode.h</a>&quot;</code><br/>

<p><a href="sofs__basicoper_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a7e613ec9f4d5b4801af7e6be904c1340">soLoadSuperBlock</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the contents of the superblock into internal storage.  <a href="#a7e613ec9f4d5b4801af7e6be904c1340"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structso_super_block.html">SOSuperBlock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a7320bc9b9c9d04d6f4d85db6d4996cab">soGetSuperBlock</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the contents of the superblock.  <a href="#a7320bc9b9c9d04d6f4d85db6d4996cab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a044b2668a2f9e248e8fc862d7b0457fe">soStoreSuperBlock</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the contents of the superblock resident in internal storage to the storage device.  <a href="#a044b2668a2f9e248e8fc862d7b0457fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#abce723e8bbbdf5c3c0216765506cb3a1">soConvertRefInT</a> (uint32_t nInode, uint32_t *p_nBlk, uint32_t *p_offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert the inode number, which translates to an entry of the inode table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of inodes comprises) and the offset of the block where it is stored.  <a href="#abce723e8bbbdf5c3c0216765506cb3a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#aed949877fd01cf5297fdded33491ae6f">soLoadBlockInT</a> (uint32_t nBlk)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the contents of a specific block of the table of inodes into internal storage.  <a href="#aed949877fd01cf5297fdded33491ae6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structso_inode.html">SOInode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#afe7c6b40fbc3eebd3b29df8b2f3f25e0">soGetBlockInT</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the contents of a specific block of the table of inodes.  <a href="#afe7c6b40fbc3eebd3b29df8b2f3f25e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a600c593f73696f9da7b60bed24eccaf7">soStoreBlockInT</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the contents of the block of the table of inodes resident in internal storage to the storage device.  <a href="#a600c593f73696f9da7b60bed24eccaf7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#ac1cee32ba802868670ba3873bd95eca0">soConvertBPIDC</a> (uint32_t p, uint32_t *p_clustInd, uint32_t *p_offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a byte position in the data continuum (information content) of a file, into the index of the element of the list of direct references and the offset within it where it is stored.  <a href="#ac1cee32ba802868670ba3873bd95eca0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a0d0baa89e8f7f20c4574b3debdc0f98e">soLoadSngIndRefClust</a> (uint32_t nClust)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the contents of a specific cluster of the table of single indirect references to data clusters into internal storage.  <a href="#a0d0baa89e8f7f20c4574b3debdc0f98e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structso_data_clust.html">SODataClust</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#ade0582e6892c40008dc46846928f14ae">soGetSngIndRefClust</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the contents of a specific cluster of the table of single indirect references to data clusters.  <a href="#ade0582e6892c40008dc46846928f14ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#ade4489e8473bbfec034c3d039ebaf1ba">soStoreSngIndRefClust</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the contents of a specific cluster of the table of single indirect references to data clusters resident in internal storage to the storage device.  <a href="#ade4489e8473bbfec034c3d039ebaf1ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a5e41edda4f5aa62bf046fee968552a07">soLoadDirRefClust</a> (uint32_t nClust)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the contents of a specific cluster of the table of direct references to data clusters into internal storage.  <a href="#a5e41edda4f5aa62bf046fee968552a07"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structso_data_clust.html">SODataClust</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a78cd894a4f361894013626e154baebb2">soGetDirRefClust</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the contents of a specific cluster of the table of direct references to data clusters.  <a href="#a78cd894a4f361894013626e154baebb2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#aece6bf6ef2a63dfd877d6f55dd4a193b">soStoreDirRefClust</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the contents of a specific cluster of the table of direct references to data clusters resident in internal storage to the storage device.  <a href="#aece6bf6ef2a63dfd877d6f55dd4a193b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Set of operations to manage the file system internal data structures. </p>
<p>(interface file)</p>
<p>The aim is to provide an unique storage location when the file system is in operation.</p>
<p>The operations are: The operations are: </p>
<ul>
<li>load the contents of the superblock into internal storage </li>
<li>get a pointer to the contents of the superblock </li>
<li>store the contents of the superblock resident in internal storage to the storage device </li>
<li>convert the inode number, which translates to an entry of the inode table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of inodes comprises) and the offset of the block where it is stored </li>
<li>load the contents of a specific block of the table of inodes into internal storage </li>
<li>get a pointer to the contents of a specific block of the table of inodes </li>
<li>store the contents of the block of the table of inodes resident in internal storage to the storage device </li>
<li>convert a byte position in the data continuum (information content) of a file, into the index of the element of the list of direct references and the offset within it where it is stored </li>
<li>load the contents of a specific cluster of the table of single indirect references to data clusters into internal storage. </li>
<li>get a pointer to the contents of a specific cluster of the table of single indirect references to data clusters </li>
<li>store the contents of a specific cluster of the table of single indirect references to data clusters resident in internal storage to the storage device </li>
<li>load the contents of a specific cluster of the table of direct references to data clusters into internal storage </li>
<li>get a pointer to the contents of a specific cluster of the table of direct references to data clusters </li>
<li>store the contents of a specific cluster of the table of direct references to data clusters resident in internal storage to the storage device.</li>
</ul>
<dl class="author"><dt><b>Author:</b></dt><dd>António Rui Borges - August 2010 - August 2011</dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>In case an error occurs, all functions return a negative value which is the symmetric of the system error that better represents the error cause. (execute command <em>man errno</em> to get the list of system errors) </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac1cee32ba802868670ba3873bd95eca0"></a><!-- doxytag: member="sofs_basicoper.h::soConvertBPIDC" ref="ac1cee32ba802868670ba3873bd95eca0" args="(uint32_t p, uint32_t *p_clustInd, uint32_t *p_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soConvertBPIDC </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_clustInd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a byte position in the data continuum (information content) of a file, into the index of the element of the list of direct references and the offset within it where it is stored. </p>
<p>The byte position is defined as:</p>
<p>p = clustInd * BSLPC + offset</p>
<p>where <em>clustInd</em> stands for the index of the element of the list of direct references and <em>offset</em> for the byte position within it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>byte position in the data continuum </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_clustInd</em>&nbsp;</td><td>pointer to the location where the index to the list of direct references is to be stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_offset</em>&nbsp;</td><td>pointer to the location where the offset is to be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if byte position is out of range or any of the pointers is <code>NULL</code> </dd></dl>

</div>
</div>
<a class="anchor" id="abce723e8bbbdf5c3c0216765506cb3a1"></a><!-- doxytag: member="sofs_basicoper.h::soConvertRefInT" ref="abce723e8bbbdf5c3c0216765506cb3a1" args="(uint32_t nInode, uint32_t *p_nBlk, uint32_t *p_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soConvertRefInT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>nInode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_nBlk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert the inode number, which translates to an entry of the inode table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of inodes comprises) and the offset of the block where it is stored. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nInode</em>&nbsp;</td><td>inode number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_nBlk</em>&nbsp;</td><td>pointer to the location where the logical block number is to be stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_offset</em>&nbsp;</td><td>pointer to the location where the offset is to be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if inode number is out of range or any of the pointers is <code>NULL</code> </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="afe7c6b40fbc3eebd3b29df8b2f3f25e0"></a><!-- doxytag: member="sofs_basicoper.h::soGetBlockInT" ref="afe7c6b40fbc3eebd3b29df8b2f3f25e0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structso_inode.html">SOInode</a>* soGetBlockInT </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the contents of a specific block of the table of inodes. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to the specific block , on success </dd>
<dd>
-<code>NULL</code>, if no data block was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="a78cd894a4f361894013626e154baebb2"></a><!-- doxytag: member="sofs_basicoper.h::soGetDirRefClust" ref="a78cd894a4f361894013626e154baebb2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structso_data_clust.html">SODataClust</a>* soGetDirRefClust </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the contents of a specific cluster of the table of direct references to data clusters. </p>
<p>Any type of previous / current error on loading / storing a direct references cluster will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to the specific cluster , on success </dd>
<dd>
-<code>NULL</code>, if no cluster was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="ade0582e6892c40008dc46846928f14ae"></a><!-- doxytag: member="sofs_basicoper.h::soGetSngIndRefClust" ref="ade0582e6892c40008dc46846928f14ae" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structso_data_clust.html">SODataClust</a>* soGetSngIndRefClust </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the contents of a specific cluster of the table of single indirect references to data clusters. </p>
<p>Any type of previous / current error on loading / storing a single indirect references cluster will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to the specific cluster , on success </dd>
<dd>
-<code>NULL</code>, if no cluster was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="a7320bc9b9c9d04d6f4d85db6d4996cab"></a><!-- doxytag: member="sofs_basicoper.h::soGetSuperBlock" ref="a7320bc9b9c9d04d6f4d85db6d4996cab" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structso_super_block.html">SOSuperBlock</a>* soGetSuperBlock </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the contents of the superblock. </p>
<p>Any type of previous error on loading / storing the superblock data will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to the superblock , on success </dd>
<dd>
-<code>NULL</code>, if the superblock was not previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="aed949877fd01cf5297fdded33491ae6f"></a><!-- doxytag: member="sofs_basicoper.h::soLoadBlockInT" ref="aed949877fd01cf5297fdded33491ae6f" args="(uint32_t nBlk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadBlockInT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>nBlk</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the contents of a specific block of the table of inodes into internal storage. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nBlk</em>&nbsp;</td><td>logical number of the block to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if logical block number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a5e41edda4f5aa62bf046fee968552a07"></a><!-- doxytag: member="sofs_basicoper.h::soLoadDirRefClust" ref="a5e41edda4f5aa62bf046fee968552a07" args="(uint32_t nClust)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadDirRefClust </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>nClust</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the contents of a specific cluster of the table of direct references to data clusters into internal storage. </p>
<p>Any type of previous / current error on loading / storing a direct references cluster will disable the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nClust</em>&nbsp;</td><td>physical number of the cluster to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if physical cluster number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a0d0baa89e8f7f20c4574b3debdc0f98e"></a><!-- doxytag: member="sofs_basicoper.h::soLoadSngIndRefClust" ref="a0d0baa89e8f7f20c4574b3debdc0f98e" args="(uint32_t nClust)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadSngIndRefClust </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>nClust</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the contents of a specific cluster of the table of single indirect references to data clusters into internal storage. </p>
<p>Any type of previous / current error on loading / storing a single indirect references cluster will disable the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nClust</em>&nbsp;</td><td>physical number of the cluster to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if physical cluster number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a7e613ec9f4d5b4801af7e6be904c1340"></a><!-- doxytag: member="sofs_basicoper.h::soLoadSuperBlock" ref="a7e613ec9f4d5b4801af7e6be904c1340" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadSuperBlock </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the contents of the superblock into internal storage. </p>
<p>Any type of previous error on loading / storing the superblock data will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a600c593f73696f9da7b60bed24eccaf7"></a><!-- doxytag: member="sofs_basicoper.h::soStoreBlockInT" ref="a600c593f73696f9da7b60bed24eccaf7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreBlockInT </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the contents of the block of the table of inodes resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no block of the table of inodes was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="aece6bf6ef2a63dfd877d6f55dd4a193b"></a><!-- doxytag: member="sofs_basicoper.h::soStoreDirRefClust" ref="aece6bf6ef2a63dfd877d6f55dd4a193b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreDirRefClust </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the contents of a specific cluster of the table of direct references to data clusters resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing a direct references cluster will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no cluster of the table of direct references was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="ade4489e8473bbfec034c3d039ebaf1ba"></a><!-- doxytag: member="sofs_basicoper.h::soStoreSngIndRefClust" ref="ade4489e8473bbfec034c3d039ebaf1ba" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreSngIndRefClust </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the contents of a specific cluster of the table of single indirect references to data clusters resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing a single indirect references cluster will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no cluster of the table of single indirect references was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a044b2668a2f9e248e8fc862d7b0457fe"></a><!-- doxytag: member="sofs_basicoper.h::soStoreSuperBlock" ref="a044b2668a2f9e248e8fc862d7b0457fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreSuperBlock </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the contents of the superblock resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing the superblock data will disable the operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on the current or a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
